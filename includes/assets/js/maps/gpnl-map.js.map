{"version":3,"sources":["gpnl-map.js"],"names":["config","window","center","centerlat","centerlng","JSON","parse","marker","zoom","polyline","map","L","setView","tileLayer","maxZoom","attribution","addTo","options","Icon","extend","shadowUrl","iconAnchor","iconSize","Point","iconUrl","color","index","value","weight","opacity","all_lines","stamp","all_markers","icon","EventMarker","bindPopup","className","openPopup","ShipMarker"],"mappings":"aAAA,IAAIA,OAASC,OAAOD,OAChBE,OAAS,CAACF,OAAOG,UAAWH,OAAOI,WADnCJ,KAAMA,OAAGC,KACTC,YAAmCE,iBAAlBD,OAAWH,OAAhCK,KAAAC,MAAAN,OAAAO,QAAA,GACIC,UAAJ,iBAAAR,OAAAS,SAAAJ,KAAAC,MAAAN,OAAAS,UAAA,GAKIC,IAAMC,EAAED,IAAI,OAAOE,QAAQV,OAAQM,MAEvCG,EAAEE,UAAU,wDAAyD,CACnEC,QAAS,GACTC,YAAa,yRACZC,MAAMN,KAIPO,IAAAA,YAASN,EAAAO,KAAAC,OAAA,CACPC,QAAAA,CACAC,UAAU,KACVC,WAAU,IAAMC,EAAAA,MAAN,GAAA,IACVC,SAAS,IAAAb,EAAAY,MAAA,GAAA,IAJFC,QAAA,2HAQTP,WAASN,EAAAO,KAAAC,OAAA,CACPC,QAAAA,CACAC,UAAU,KACVC,WAAU,IAAMC,EAAAA,MAAN,GAAA,IACVC,SAAS,IAAAb,EAAAY,MAAA,GAAA,IAJFC,QAAA,sGAWLC,EAAAA,KAAAA,UAAO,SADTC,EAAAC,GAEEC,IAAAA,EAFFjB,EAAAF,SAAAkB,EAGEE,CACCb,MAAMN,UACXkB,OAAOE,EACPA,QAAYC,IARdf,MAAAN,YAUOsB,UAAPN,GACEI,UAASnB,EAAAoB,MAAQtB,IAAAkB,IACeM,EAAAA,KAAAA,YAAUC,SAAJR,EAAAC,GAAP,GAAhB,IAAAD,EAAb,CACA,IAAAnB,EAAOyB,EAAAA,OAAYN,EAAnB,CAAAO,KAAA,IAAAC,cAAAlB,MAAAN,YACAsB,YAAYN,GACZnB,YAAO4B,EAAAA,MAAU5B,IAAAoB,EAAiHpB,EAAA4B,UAAa,+GAAA,CAAAC,UAAA,gBAChJ,GAAA,IAAAV,EAAA,CAEKnB,EAASI,EAAEJ,OAAOoB,EAAO,CAACM,KAAM,IAAIC,cAAgBlB,MAAMN,YADvDsB,YAAQN,GACfM,YAAUrB,EAAIoB,MAACxB,IAAcoB,EAACM,EAAIE,UAAMD,2GAAJ,CAAAE,UAAA,gBAAAC,YACpC,GAAOL,IAAPN,EAAOM,CACPA,EAAarB,EAACoB,OAAMxB,EAApB,CAAA0B,KAAA,IAAAK,aAAAtB,MAAAN,YACOyB,YAAUT,GAA6GM,YAAArB,EAAAoB,MAAaxB,IAAAoB,EAAdpB,EAA8B8B,UAA3J,wBAAA,CAAAD,UAAA","file":"../gpnl-map.js","sourcesContent":["var config = window.config;\nvar center = [config.centerlat, config.centerlng];\nvar zoom = config.zoom;\nvar all_markers = (typeof config.marker === 'string') ? JSON.parse(config.marker) : [];\nvar all_lines = (typeof config.polyline === 'string') ? JSON.parse(config.polyline) : [];\n\n// Create the map\nvar map = L.map('map').setView(center, zoom);\n\nL.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {\n  maxZoom: 19,\n  attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Tiles style by <a href=\"https://www.hotosm.org/\" target=\"_blank\">Humanitarian OpenStreetMap Team</a> hosted by <a href=\"https://openstreetmap.fr/\" target=\"_blank\">OpenStreetMap France</a>'\n}).addTo(map);\n\n// define custom marker\nvar EventMarker = L.Icon.extend({\n  options: {\n    shadowUrl: null,\n    iconAnchor: new L.Point(12, 12),\n    iconSize: new L.Point(24, 24),\n    iconUrl: 'https://storage.googleapis.com/planet4-netherlands-stateless/2018/05/913c0158-cropped-5b45d6f2-p4_favicon-150x150.png'\n  }\n});\nvar ShipMarker = L.Icon.extend({\n  options: {\n    shadowUrl: null,\n    iconAnchor: new L.Point(12, 12),\n    iconSize: new L.Point(24, 24),\n    iconUrl: 'https://storage.googleapis.com/planet4-netherlands-stateless/2019/03/3decbd94-sailboat-zwart.png'\n  }\n});\n\n$.each(all_lines, function (index, value) {\n  let polyline = L.polyline(value,\n    {\n      color: '#66CC00',\n      weight: 5,\n      opacity: 1,\n    }).addTo(map);\n  delete all_lines[index];\n  all_lines[L.stamp(polyline)] = value;\n});\n$.each(all_markers, function(index, value) {\n  if (index === 0) {\n    var marker = L.marker(value, {icon: new EventMarker()}).addTo(map);\n    delete all_markers[index];\n    all_markers[L.stamp(marker)] = value;\n    marker.bindPopup('<a href=\"https://www.greenpeace.org/nl/acties/plasticmonster/rave/\">Doe mee met de Plastic Monster Rave!</a>', {'className': 'popupCustom'});\n  }\n  if (index === 1) {\n    var marker = L.marker(value, {icon: new EventMarker()}).addTo(map);\n    delete all_markers[index];\n    all_markers[L.stamp(marker)] = value;\n    marker.bindPopup('<a href=\"https://www.greenpeace.org/nl/acties/plasticmonster/plastival/\">Kom ook naar het Plastival!</a>', {'className': 'popupCustom'}).openPopup();\n  }\n  if (index === 2) {\n    var marker = L.marker(value, {icon: new ShipMarker()}).addTo(map);\n    delete all_markers[index];\n    all_markers[L.stamp(marker)] = value;\n    marker.bindPopup('Hier is de Beluga nu!', {'className': 'popupCustom'});\n  }\n});\n"]}