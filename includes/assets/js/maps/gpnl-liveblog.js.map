{"version":3,"sources":["gpnl-liveblog.js"],"names":["treshold","liveblog","$","find","elements","length","numelements","showMore","newelements","hiddenelements","slice","hide","showmorebutton","each","key","element","appendTo","value","displaydate","moment","innerText","fromNow","this","html"],"mappings":"aAAA,IAAIA,SAAW,EACXC,SAAWC,EAAE,mBADbF,SAAWC,SAAfE,KAAA,WACIF,YAAaG,SAAAC,OACbD,eAAWH,GACXK,eAAcF,uIAQjB,SAAAG,WAGC,IAAIC,EAAcC,eAAeC,MAAM,EAAGV,UAD5CS,eAAAA,eAAoBC,MAAAV,SAAAS,eAAAJ,QAClBG,EAAIA,OACaC,IAAjBA,eAAiBA,QACjBD,EAAAA,aAAAG,OAXgBX,SAAdY,eAGFH,eAAiBL,SAASM,MAAMV,SAAUM,cAD7BK,OACbF,SAAAA,MAAcG,iBAqBdV,EAAEW,KAAKX,EAAE,mBAAmBC,KAAK,WAAW,SAAUW,EAAKC,GAC7C,IAARD,GACJZ,EAAEa,GAASC,SAASf,YAHvBC,EAADW,KAAAX,EAAA,iCAAA,SAAAY,EAAAG,GAOA,IAAAC,EAAAC,OAAAF,EAAAG,WAAAC,UAOInB,EAAEoB,MAAMC,KAAKL","file":"../gpnl-liveblog.js","sourcesContent":["var treshold = 3;\nvar liveblog = $('.gpnl--liveblog');\nvar elements = liveblog.find('article');\nvar numelements = elements.length;\nvar hiddenelements = {};\nvar showmorebutton = '<button type=\"button\" name=\"showmore\" id=\"showmore\" class=\"btn btn-primary btn-lg btn-block\" onclick=\"showMore()\">Lees meer</button>';\n\nif (numelements > treshold) {\n  hiddenelements = elements.slice(treshold, numelements);\n  hiddenelements.hide();\n  liveblog.after(showmorebutton);\n}\n\nfunction showMore() {\n  var newelements = hiddenelements.slice(0, treshold);\n  hiddenelements = hiddenelements.slice(treshold, hiddenelements.length);\n  newelements.show();\n  if (hiddenelements.length === 0) {\n    $('#showmore').hide();\n  }\n}\n\n/**\n * Converts nested articles in the liveblog to siblings.\n *\n * To ease the work of the editor it is not necessary to add closing tags to a liveblog item\n * This results in a liveblog with nested articles. For accessibility these articles are converted to siblings\n */\n(function flattenBlog() {\n  $.each($('.gpnl--liveblog').find('article'),function (key, element) {\n    if (key === 0){\treturn; }\n    $(element).appendTo(liveblog);\n  });\n}());\n\n/**\n *  Converts all dates with the specified moment--date class to a human comprehensible format.\n *  IE 2018-03-11 15:00 to a string like \"5 hours ago\" compared to current time\n */\n(function readabledates() {\n  $.each($('.gpnl--liveblog .moment--date'), function (key, value) {\n    var displaydate = moment(value.innerText).fromNow();\n    $(this).html(displaydate);\n  });\n}());\n\n\n"]}