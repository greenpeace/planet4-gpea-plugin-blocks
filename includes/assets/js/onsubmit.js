"use strict";function getFormObj(n){var o={},e=$(n).serializeArray();return $.each(e,function(n,e){o[e.name]=e.value}),o}function toggleDisable(n){n.prop("disabled",!n.prop("disabled"))}function cardflip(n){var e=$(n),o=n.parentNode,t=$(n.parentNode.parentNode);$(e.find(".signBtn")).toggle(),$(e.find(".policies")).toggle(),$(o.nextElementSibling).css("position",flip_positionattribute(o.nextElementSibling)),$(o).css("position",flip_positionattribute(o)),t.toggleClass("flipped"),t.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(o).toggle(),t.off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")})}function flip_positionattribute(n){return"absolute"===$(n).css("position")?"relative":"absolute"}function fireShareEvent(n){"undefined"!=typeof dataLayer?dataLayer.push({event:"petitiebutton",conv_campaign:window[form_config].analytics_campaign,conv_action:window[form_config].ga_action,conv_label:"share_"+n}):console.log("GTM not defined?")}function socialBlueDeDuplicate(n,e,o){var t=("https:"==document.location.protocol?"https://secure.event.":"http://www.")+"affiliatepartners.com",i="/js/ApConversionPixelV1.1.js";_apOrderValue=0,_apOrderNumber="email="+n+"-telefoonnumer="+e,_apRef=o;try{$("body").append(unescape("%3Cscript src='"+t+i+"' type='text/javascript'%3E%3C/script%3E"))}catch(n){var a=document.createElement("script");a.type="text/javascript",a.src=t+i,document.getElementsByTagName("head")[0].appendChild(a)}}function getUrlVars(){for(var n,e=[],o=window.location.href.split("#")[0].slice(window.location.href.indexOf("?")+1).split("&"),t=0;t<o.length;t++)n=o[t].split("="),e.push(n[0]),e[n[0]]=n[1];return e}$(".gpnl-petitionform").on("submit",function(){var i=this,o=getFormObj(i);form_config="petition_form_object_"+o.form_id,o.action="petition_form_process",o.nonce=window[form_config].nonce,o.ad_campaign=window[form_config].ad_campaign,toggleDisable($(i).find("*")),$.ajax({type:"POST",url:window[form_config].ajaxUrl,data:o,success:function(n){console.log("^-^"),"undefined"!=typeof dataLayer&&dataLayer.push({event:"petitiebutton",conv_campaign:window[form_config].analytics_campaign,conv_action:window[form_config].ga_action,conv_label:"registreer"}),"on"!==o.consent&&""===o.phone||("SB"===window[form_config].ad_campaign?(fbq("track","Lead"),socialBlueDeDuplicate(o.mail,n.data.phone,window[form_config].apref)):"JA"===window[form_config].ad_campaign&&fbq("track",window[form_config].jalt_track)),""!==o.phone?"undefined"!=typeof dataLayer&&dataLayer.push({event:"petitiebutton",conv_campaign:window[form_config].analytics_campaign,conv_action:"telnr",conv_label:"Ja"}):"undefined"!=typeof dataLayer&&dataLayer.push({event:"petitiebutton",conv_campaign:window[form_config].analytics_campaign,conv_action:"telnr",conv_label:"Nee"}),cardflip(i);var e=getUrlVars().clangct;null!=e&&$.ajax({url:"/wp-content/plugins/planet4-gpnl-plugin-blocks/includes/assets/js/clang-conversion.js?clangct="+e,dataType:"script"})},error:function(n,e,o){console.log("o_o"),console.log("ERRORS: "+e+": "+o);var t=$(i.parentNode.nextElementSibling);t.find("*").hide(""),t.append("<p>Sorry, er gaat momenteel iets fout, probeer het nu of later opnieuw.</p>"),t.append("<a href='"+window.location.href+'\' class="btn btn-primary btn-block"">Probeer opnieuw</a>'),cardflip(i)}})});
//# sourceMappingURL=maps/onsubmit.js.map
