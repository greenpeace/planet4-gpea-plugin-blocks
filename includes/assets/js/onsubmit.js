function getFormObj(n){var e={},o=$(n).serializeArray();return $.each(o,function(n,o){e[o.name]=o.value}),e}function toggleDisable(n){n.prop("disabled",!n.prop("disabled"))}function cardflip(n){let e=$(n),o=n.parentNode,t=$(n.parentNode.parentNode);$(e.find(".signBtn")).toggle(),$(e.find(".policies")).toggle(),$(o.nextElementSibling).css("position",flip_positionattribute(o.nextElementSibling)),$(o).css("position",flip_positionattribute(o)),t.toggleClass("flipped"),t.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(o).toggle(),t.off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")})}function flip_positionattribute(n){return"absolute"===$(n).css("position")?"relative":"absolute"}function fireShareEvent(n){"undefined"!=typeof dataLayer?dataLayer.push({event:"petitiebutton",conv_campaign:window[form_config].analytics_campaign,conv_action:window[form_config].ga_action,conv_label:"share_"+n}):console.log("GTM not defined?")}function socialBlueDeDuplicate(n,e,o){var t=("https:"==document.location.protocol?"https://secure.event.":"http://www.")+"affiliatepartners.com",i="/js/ApConversionPixelV1.1.js";_apOrderValue=0,_apOrderNumber="email="+n+"-telefoonnumer="+e,_apRef=o;try{$("body").append(unescape("%3Cscript src='"+t+i+"' type='text/javascript'%3E%3C/script%3E"))}catch(n){var a=document.createElement("script");a.type="text/javascript",a.src=t+i,document.getElementsByTagName("head")[0].appendChild(a)}}$(".gpnl-petitionform").on("submit",function(){var n=this,e=getFormObj(n);form_config="petition_form_object_"+e.form_id,e.action="petition_form_process",e.nonce=window[form_config].nonce,e.ad_campaign=window[form_config].ad_campaign,toggleDisable($(n).find("*")),$.ajax({type:"POST",url:window[form_config].ajaxUrl,data:e,success:function(o){console.log("^-^"),"undefined"!=typeof dataLayer&&dataLayer.push({event:"petitiebutton",conv_campaign:window[form_config].analytics_campaign,conv_action:window[form_config].ga_action,conv_label:"registreer"}),"on"!==e.consent&&""===e.phone||("SB"===window[form_config].ad_campaign?(fbq("track","Lead"),socialBlueDeDuplicate(e.mail,o.data.phone,window[form_config].apref)):"JA"===window[form_config].ad_campaign&&fbq("track",window[form_config].jalt_track)),""!==e.phone?"undefined"!=typeof dataLayer&&dataLayer.push({event:"petitiebutton",conv_campaign:window[form_config].analytics_campaign,conv_action:"telnr",conv_label:"Ja"}):"undefined"!=typeof dataLayer&&dataLayer.push({event:"petitiebutton",conv_campaign:window[form_config].analytics_campaign,conv_action:"telnr",conv_label:"Nee"}),cardflip(n)},error:function(e,o,t){console.log("o_o"),console.log("ERRORS: "+o+": "+t);var i=$(n.parentNode.nextElementSibling);i.find("*").hide(""),i.append("<p>Sorry, er gaat momenteel iets fout, probeer het nu of later opnieuw.</p>"),i.append("<a href='"+window.location.href+'\' class="btn btn-primary btn-block"">Probeer opnieuw</a>'),cardflip(n)}})});
//# sourceMappingURL=maps/onsubmit.js.map
