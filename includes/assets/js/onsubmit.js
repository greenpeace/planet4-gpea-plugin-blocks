function getFormObj(n){var t={},e=$(n).serializeArray();return $.each(e,function(n,e){t[e.name]=e.value}),t}function toggleDisable(n){n.prop("disabled",!n.prop("disabled"))}function cardflip(n){var e=$(n),t=n.parentNode,o=$(n.parentNode.parentNode);$(e.find(".signBtn")).toggle(),$(e.find(".policies")).toggle(),$(t.nextElementSibling).css("position",flip_positionattribute(t.nextElementSibling)),$(t).css("position",flip_positionattribute(t)),o.toggleClass("flipped"),o.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(t).toggle(),o.off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")})}function flip_positionattribute(n){return"absolute"===$(n).css("position")?"relative":"absolute"}function fireShareEvent(n){"undefined"!=typeof dataLayer?dataLayer.push({event:"petitiebutton",conv_campaign:window[form_config].analytics_campaign,conv_action:window[form_config].ga_action,conv_label:"share_"+n}):console.log("GTM not defined?")}function socialBlueDeDuplicate(n,e,t){var o=("https:"==document.location.protocol?"https://secure.event.":"http://www.")+"affiliatepartners.com",a="/js/ApConversionPixelV1.1.js";_apOrderValue=0,_apOrderNumber="email="+n+"-telefoonnumer="+e,_apRef=t;try{$("body").append(unescape("%3Cscript src='"+o+a+"' type='text/javascript'%3E%3C/script%3E"))}catch(n){var i=document.createElement("script");i.type="text/javascript",i.src=o+a,document.getElementsByTagName("head")[0].appendChild(i)}}function getUrlVars(){for(var n,e=[],t=window.location.href.split("#")[0].slice(window.location.href.indexOf("?")+1).split("&"),o=0;o<t.length;o++)n=t[o].split("="),e.push(n[0]),e[n[0]]=n[1];return e}$(".gpnl-petitionform").on("submit",function(){var a=this,e=getFormObj(a),t="petition_form_object_"+e.form_id;e.action="petition_form_process",e.nonce=window[t].nonce,e.ad_campaign=window[t].ad_campaign,toggleDisable($(a).find("*")),$.ajax({type:"POST",url:window[t].ajaxUrl,data:e,success:function(n){console.log("^-^"),"undefined"!=typeof dataLayer&&dataLayer.push({event:"petitiebutton",conv_campaign:window[t].analytics_campaign,conv_action:window[t].ga_action,conv_label:"registreer"}),""!==e.phone?("undefined"!=typeof dataLayer&&dataLayer.push({event:"petitiebutton",conv_campaign:window[t].analytics_campaign,conv_action:"telnr",conv_label:"Ja"}),"SB"===window[t].ad_campaign?(fbq("track","Lead"),socialBlueDeDuplicate(e.mail,n.data.phone,window[t].apref)):"JA"===window[t].ad_campaign&&fbq("track",window[t].jalt_track)):"undefined"!=typeof dataLayer&&dataLayer.push({event:"petitiebutton",conv_campaign:window[t].analytics_campaign,conv_action:"telnr",conv_label:"Nee"}),cardflip(a),console.log("Almost clang conversion"),null!=getUrlVars().clangct&&clang.conversion.track(),console.log("Past clang conversion")},error:function(n,e,t){console.log("o_o"),console.log("ERRORS: "+e+": "+t);var o=$(a.parentNode.nextElementSibling);o.find("*").hide(""),o.append("<p>Sorry, er gaat momenteel iets fout, probeer het nu of later opnieuw.</p>"),o.append("<a href='"+window.location.href+'\' class="btn btn-primary btn-block"">Probeer opnieuw</a>'),cardflip(a)}})});
//# sourceMappingURL=maps/onsubmit.js.map
